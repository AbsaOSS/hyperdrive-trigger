<!--
/*
 * Copyright 2018 ABSA Group Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->

<div *ngIf="!isShow">
  <clr-control-container>
    <label>{{name}}</label>

    <span>Every</span>

    <div class="clr-select-wrapper">
      <select class="clr-select" clrControl [(ngModel)]="base">
        <option *ngFor="let option of frequencies" [value]="option.value">{{option.label}}</option>
      </select>
    </div>

    <span *ngIf="base == 3">at</span>

    <div class="clr-select-wrapper" *ngIf="base == 3">
      <select class="clr-select" clrControl (change)="onDaySelect($event.target.value)">
        <option *ngFor="let option of hourValues" [value]="option">{{option}}</option>
      </select>
    </div>

    <div class="clr-select-wrapper" *ngIf="base == 2">
      <select class="clr-select" clrControl (change)="onHourSelect($event.target.value)">
        <option *ngFor="let option of minuteValues" [value]="option">{{option}}</option>
      </select>
    </div>

    <div class="clr-select-wrapper" *ngIf="base == 1">
      <select class="clr-select" clrControl (change)="onMinuteSelect($event.target.value)">
        <option *ngFor="let option of minutesValues" [value]="option">{{option}}</option>
      </select>
    </div>

    <!-- <div class="col-sm-10" (countriesFetched)="populateCountriesList($event)" appGetCountriesList>
      <select id="countrySelector" class="form-control" [(ngModel)]='coutryOption' (ngModelChange)='countrySelected($event)' required>
          <option *ngFor="let country of countriesList;"  [ngValue]=country [selected]="country.name === countryToDisplay? selected:null">{{country.name}}</option>
      </select>
  </div> -->

    <!-- <select id="countrySelector" class="form-control" [(ngModel)]='coutryOption' (ngModelChange)='countrySelected($event)' required>
      <ng-container *ngFor="let country of countriesList;">
          <ng-container *ngIf="country.name === countryToDisplay">
              <option [ngValue]=country selected>{{country.name}}
              </option>
          </ng-container>
          <ng-container *ngIf="country.name !== countryToDisplay">
              <option [ngValue]=country>{{country.name}}
              </option>
          </ng-container>
      </ng-container>
  </select> -->

    <span *ngIf="base == 3"> : 00</span>

    <span *ngIf="base == 2"> minutes past the hour</span>

    <span *ngIf="base == 1"> minutes</span>


  </clr-control-container>
</div>

<div *ngIf="isShow">
  <clr-control-container>
    <label>{{name}}</label>

    <input *ngIf="base == 1" [readOnly]="true" clrControl value="Every Hour every {{ minuteValue }} minutes"
    [size]="40" />
    <input *ngIf="base == 2" [readOnly]="true" clrControl value="Every Hour at {{ hourValue }} minutes past the hour"
    [size]="40" />
    <input *ngIf="base == 3" [readOnly]="true" clrControl value="Every Day at {{ dayValue }}:00"
    [size]="40" />

  </clr-control-container>
</div>

<!-- 
<div *ngIf="mode == workflowModes.EDIT">
  <clr-control-container>
    <label>{{name}}</label>

    <input *ngIf="showGuard == 1" [readOnly]="true" clrControl value="Every {{ showFrequency }} {{ cronValue }} minutes"
    [size]="40" />
    <input *ngIf="showGuard == 2" [readOnly]="true" clrControl value="Every {{ showFrequency }} {{ cronValue }} minutes past the hour"
    [size]="40" />
    <input *ngIf="showGuard == 3" [readOnly]="true" clrControl value="Every {{ showFrequency }} at {{ cronValue }}:00"
    [size]="40" />

  </clr-control-container>
</div> -->